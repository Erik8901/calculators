<!DOCTYPE html>
<html lang="en">
<head>
    <title>Lab 4 Vue V3</title>
    <link rel="stylesheet" type="text/css" href="./styles/styles3.css">
   
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
      <script>
      
    window.addEventListener("load", () => {
        
    let vmCount = new Vue ({
        el: "#start",
        data: {
            outPut: '',
            currentNumber: '',
            lastNumber: [],
            history: [],
            countArr: [],
            result : [],
            operator: ''
            },
        methods: {
            showNumber: function(event3) {
                this.currentNumber = this.currentNumber + "" + parseFloat(event3.target.innerHTML);
                 if (this.countArr.length === 2) {
                     
                  this.countArr.push(this.currentNumber)
                  this.currentNumber = '' 
                     
              }
               // this.history.slice((-1)[0])
                
            },
            resetIt: function(event) {
            this.outPut = ''
            this.currentNumber = ''
            this.lastNumber = []
            this.history = []
            this.result = []
            this.countArr = []
            },
            // [1, add, 3]
            opp: function(eventCount) {
//                this.countArr.push(this.currentNumber)
//                this.currentNumber = ''
                this.operator = eventCount.target.innerHTML
                
                if ( this.operator === "+") {
                    this.countArr.push(this.currentNumber)
                    this.currentNumber = ''
                    this.countArr.push("+")
                   
            } else if ( this.operator === "-") {
                    this.countArr.push(this.currentNumber)
                    this.currentNumber = ''
                    this.countArr.push("-") 
            }
                    
                    //this.history.push(this.lastNumber.reduce(add))
                    //this.history.push(add(this.countArr[0], this.currentNumber[0]))        
                     
                    //this.oppy = eventCount.target.innerHTML
//                    let add = (num1, num2) => +num1 + +num2
//                    //this.history.push(add(this.lastNumber[0], this.lastNumber[1]))
//                    this.history.push(this.lastNumber.reduce(add))
//                    this.result = this.history.shift()
//                    //this.outPut = this.result
//                } else if ( this.operator === "-") {
//                    //this.operator = eventCount.target.innerHTML
//                    let add = (num1, num2) => +num1 - +num2
//                    this.history.push(this.lastNumber.reduce(add))
//                    this.result = this.history.shift()
//                   
//                } else if ( this.operator === "*") {
//                    let add = (num1, num2) => +num1 * +num2
//                    this.history.push(this.lastNumber.reduce(add))
//                    this.result = this.history.shift()
//                    
//                } else if ( this.operator === "/") {
//                    let add = (num1, num2) => +num1 / +num2
//                    this.history.push(this.lastNumber.reduce(add))
//                    this.result = this.history.shift()
//                    
//                    
//                } else if (this.operator === "=") {
//                    
//                }
                    
                if (this.countArr.length > 2) {
                    if( this.operator === "+") {
                        let add = (num1, num2) => +this.countArr[0] + +this.countArr[2]
                        this.history.push(this.countArr.reduce(add))
                        let total = this.countArr.reduce(add)
                        console.log(total)
                        //this.result.push(this.history.shift())
                        
                        if (this.countArr.length >= 5) {
                            this.countArr = []
                            console.log(this.countArr)
                            this.countArr.push(total)
                        }
                        if (this.history.length === 1) {
                            
                        }
                        
                    } else if (this.operator === "-") {
                        let minus = (num1, num2) => +this.countArr[0] - +this.countArr[2]
                        this.history.push(this.countArr.reduce(minus))
                    }
                }
            },
            equal: function(res) {
                if (this.countArr[1] === "+") {
                    let add = (num1, num2) => +this.countArr[0] + +this.countArr[2]
                    this.history.push(this.countArr.reduce(add))
                }
            }
        }
                
//                if( newAmazingArray.length > 3) {
//                    let f = newAmazingArray[1];
//                    let calculated = f(newAmazingArray[0], newAmazingArray[2])
//                }
                
           
            
//            sum: function(eventAdd) {
//                this.opp = eventAdd.target.innerHTML
//                console.log(eventAdd)
//                this.lastNumber.push(this.currentNumber)
//                this.currentNumber = []
//                let add = (num1, num2) => +num1 + +num2
//                 if ( this.lastNumber ) {
//                    this.history.push(this.lastNumber.reduce(add))
//                     this.result = this.history.shift()
//                     this.outPut = this.result
//                    }
//                    
//                 },
//            minus: function(eventMinus) {
//                console.log(this.result)
//                this.opp = eventMinus.target.innerHTML
//                
//                if ( this.opp == "+") {
//                    
//                    let add = (num1, num2) => +num1 + +num2
//                    this.history.push(this.lastNumber.reduce(add))
//                    this.result = this.history.shift()
//                    this.outPut = this.result
//                    this.opp = eventMinus.target.innerHTML
//                } 
//    
//                
////                this.lastNumber.push(this.currentNumber)
////                this.currentNumber = []
////                
////                let add = (num1, num2) => +num1 - +num2
////                 if ( this.lastNumber ) {
////                    this.history.push(this.lastNumber.reduce(add))
////                     this.result = this.history.shift()
////                    }  
//                    //this.result = +this.result - +this.currentNumber
//                },
//            multiply: function(event) {
//                this.lastNumber.push(this.currentNumber)
//                this.currentNumber = []
//                let add = (num1, num2) => +num1 * +num2
//                 if ( this.lastNumber ) {
//                    this.history.push(this.lastNumber.reduce(add))
//                     this.result = this.history.shift()
//                    }  
//                    //this.result = +this.result - +this.currentNumber
//            },
//            devide: function(event) {
//                this.lastNumber.push(this.currentNumber)
//                this.currentNumber = []
//                let add = (num1, num2) => +num1 / +num2
//                 if ( this.lastNumber ) {
//                    this.history.push(this.lastNumber.reduce(add))
//                     this.result = this.history.shift()
//                    }  
//                    //this.result = +this.result - +this.currentNumber
//            },
//            equal: function(event) {
//                //this.outPut = this.result
//                //this.history = +this.lastNumber + +this.currentNumber
                
                
            //}
        //}
    })//vue
      
}); //load
        
      
    
          
    
    
    
    
</script>
</head>
<body>
    
    
   <div class="container">
    <div id="start">
        <!--<input v-model="numbersDisplay" id="numbers" type="text" placeholder="0">-->
        <input placeholder="0" class="screen" v-model="outPut"></input>
        <input placeholder="currentNumber" class="list" v-model="currentNumber">
        </input>
        <input placeholder="countArray" class="list" v-model="countArr"></input>
        <input placeholder="lastnumber" class="list" v-model="lastNumber"></input>
        <input placeholder="history" class="list" v-model="history"></input>
        <input placeholder="result" class="list" v-model="result"></input>
            <table>
                <tr>
                    <td><button value="C" @click="resetIt">C</button></td>
                    <td><button v-on:click="showNumber">0</button></td>
                    <td><button v-on:click="equal">=</button></td>
                    <td><button v-on:click="opp">+</button></td>
                </tr>
                <tr>
                    <td><button v-on:click="showNumber">1</button></td>
                    <td><button v-on:click="showNumber">2</button></td>
                    <td><button v-on:click="showNumber">3</button></td>
                    <td><button v-on:click="opp">-</button></td>
                </tr>
                <tr>
                    <td><button v-on:click="showNumber">4</button></td>
                    <td><button v-on:click="showNumber">5</button></td>
                    <td><button v-on:click="showNumber">6</button></td>
                    <td><button v-on:click="opp">*</button></td>
                </tr>
                <tr>
                    <td><button v-on:click="showNumber">7</button></td>
                    <td><button v-on:click="showNumber">8</button></td>
                    <td><button v-on:click="showNumber">9</button></td>
                    <td><button v-on:click="opp">/</button></td>
                </tr>
        </table>
       
       
       
       
       
       
       
       
       
       </div>
</div>
        
     
</body>
</script>
</html>